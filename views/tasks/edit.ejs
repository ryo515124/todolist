<% layout('layouts/boilerplate') %>
<h1>編集</h1>
<form action="/tasks/<%= task._id %>?_method=PUT" method="POST" class="validated-form" novalidate>
    <div>
        <label class="form-label" for="title">やること</label>
        <input class="form-control" type="text"  id="title" name="task[title]" placeholder="何する？" value="<%= task.title %>"  required>
        <div class="valid-feedback">
            OK!
        </div>
    </div>
    <div>
        <label class="form-label" for="category">カテゴリ</label>
        <select class="form-control" name="task[category]" id="category" required>
            <% for(let category of categories) { %>
                <option value="<%= category %>" <%= task.category === category ? 'selected' : '' %>><%= category %></option>
            <% } %>
        </select>
        <div class="valid-feedback">
            OK!
        </div>
    </div>
    <div>
        <label for="description" class="form-label">予定時間</label>
        <input class="form-control" type="datetime-local" name="task[time]" id="time" required>
        <div class="valid-feedback">
            OK!
        </div>
    </div>
    <div>
        <label class="form-label" for="description">備考</label>
        <input class="form-control" type="text"  id="description" name="task[description]" placeholder="備考" value="<%= task.description %>"  required>
        <div class="valid-feedback">
            OK!
        </div>
    </div>
    <button class="btn btn-primary" role="button">登録</button>
</form>

<a href="/tasks/<%= task._id %>">戻る</a>
